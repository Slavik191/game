!function(e){var t={};function r(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(4));var n=function(){function e(t,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=new i.default(t),this.fieldSize=t,this.numberStorage=r,this.maxNumberBoxStorage=a,this.numberBoxMap=0}return a(e,[{key:"createField",value:function(){for(var e=this,t=[],r=function(r){var i=!0,n=Math.floor(Math.random()*e.fieldSize),o=Math.floor(Math.random()*e.fieldSize);t.forEach(function(e){e[0]===n&&e[1]===o&&(i=!1)}),i?t.push([n,o]):r--,a=r},a=0;a<this.numberStorage;a++)r(a);var i=document.createElement("table");i.id="field";var n=function(r){for(var a=document.createElement("tr"),n=function(i){var n=document.createElement("td");n.id=""+r+i,t.forEach(function(t){if(t[0]===r&&t[1]===i){n.style.background="black";var a=Math.floor(Math.random()*+e.maxNumberBoxStorage+1),o=document.createElement("div");o.className="numbrBox",o.innerHTML=""+a,n.appendChild(o),e.numberBoxMap+=a}}),a.appendChild(n)},o=0;o<e.fieldSize;o++)n(o);i.appendChild(a)};for(a=0;a<this.fieldSize;a++)n(a);var o=this.store.createStore();i.appendChild(o),app.appendChild(i)}}]),e}();t.default=n},function(e,t,r){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}}(r(2));r(5);var i=void 0;startGame.addEventListener("click",function(){(function(e){var t=!0,r=/^\d+$/;e.forEach(function(e){r.test(e)||(t=!1)}),e[0]<3?(alert("Размер поля должен быть не меньше 3x3"),t=!1):+e[1]>+e[0]*+e[0]?(alert("Количество складов не должно быть больше поля"),t=!1):t||alert("Введены некоректные значения");return t})([fieldSize.value.trim(),numberStorage.value.trim(),maxNumberBoxStorage.value.trim(),maxNumberBoxCharacter.value.trim()])&&(form.style.top="-355px",startGame.disabled=!0,i=new a.default(fieldSize.value.trim(),numberStorage.value.trim(),maxNumberBoxStorage.value.trim(),maxNumberBoxCharacter.value.trim()),fieldSize.value="",numberStorage.value="",maxNumberBoxStorage.value="",maxNumberBoxCharacter.value="",i.createObjects())}),document.addEventListener("keyup",function(e){if(void 0!==i&&(39===e.keyCode&&i.character.right(),37===e.keyCode&&i.character.left(),38===e.keyCode&&i.character.top(),40===e.keyCode&&i.character.bottom(),32===e.keyCode)){var t=document.getElementById(""+i.character.topPosition+i.character.leftPosition);""!==t.innerHTML&&0!=+t.childNodes[0].innerHTML&&i.character.numberBoxCharacter<i.character.maxNumberBoxCharacter&&"Склад"!==t.innerHTML?(t.childNodes[0].innerHTML-=1,i.character.newNumberBoxCharacter=i.character.numberBoxCharacter+1,i.changeTextBoxCharacter()):"Склад"===t.innerHTML&&i.character.numberBoxCharacter>0&&(i.character.newNumberBoxCharacter=i.character.numberBoxCharacter-1,i.grid.store.putStorage(),i.changeTextBoxCharacter(),i.grid.numberBoxMap===i.grid.store.numderBoxStore&&(i=void 0,field.style.opacity="0",player.style.opacity="0",textBoxCharacter.style.opacity="0",form.style.top="0",startGame.disabled=!1,setTimeout(function(){app.removeChild(field),app.removeChild(player),document.body.removeChild(textBoxCharacter)},500)))}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=o(r(3)),n=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,r,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.character=new i.default(o,t),this.grid=new n.default(t,r,a),this.TextBoxCharacter=void 0}return a(e,[{key:"createObjects",value:function(){this.grid.createField(),this.character.createPlayer(),this.createTextBoxCharacter()}},{key:"createTextBoxCharacter",value:function(){var e=document.createElement("div");e.id="textBoxCharacter",e.className="textBoxCharacter",e.innerHTML="рюкзак: "+this.character.numberBoxCharacter+"/"+this.character.maxNumberBoxCharacter,this.TextBoxCharacter=e,document.body.appendChild(e)}},{key:"changeTextBoxCharacter",value:function(){this.TextBoxCharacter.innerHTML="рюкзак: "+this.character.numberBoxCharacter+"/"+this.character.maxNumberBoxCharacter}}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();var i=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.leftPosition=0,this.topPosition=0,this.numberBoxCharacter=0,this.fieldSize=r,this.maxNumberBoxCharacter=t,this.player=void 0}return a(e,[{key:"createPlayer",value:function(){this.player=document.createElement("div"),this.player.className="player",this.player.id="player",this.player.style.top=document.getElementById("00").getBoundingClientRect().top+21+"px",this.player.style.left=document.getElementById("00").getBoundingClientRect().left+21+"px",app.appendChild(this.player)}},{key:"right",value:function(){if(this.leftPosition<this.fieldSize-1){var e=this.player.style.left;this.player.style.left=Number(e.slice(0,e.length-2))+53+"px",this.leftPosition+=1}}},{key:"left",value:function(){if(this.leftPosition>0&&this.topPosition<this.fieldSize){var e=this.player.style.left;this.player.style.left=Number(e.slice(0,e.length-2))-53+"px",this.leftPosition-=1}}},{key:"top",value:function(){if(this.topPosition>0){var e=this.player.style.top;this.player.style.top=Number(e.slice(0,e.length-2))-53+"px",this.topPosition-=1}}},{key:"bottom",value:function(){if(this.topPosition<this.fieldSize-1){var e=this.player.style.top;this.player.style.top=Number(e.slice(0,e.length-2))+53+"px",this.topPosition+=1}else if(this.topPosition<this.fieldSize&&this.leftPosition===this.fieldSize-1){var t=this.player.style.top;this.player.style.top=Number(t.slice(0,t.length-2))+53+"px",this.topPosition+=1}}},{key:"newNumberBoxCharacter",set:function(e){if(this.numberBoxCharacter<=this.maxNumberBoxCharacter)return this.numberBoxCharacter=e}}]),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();!function(e){e&&e.__esModule}(r(0));var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=void 0,this.numderBoxStore=0,this.fieldSize=t}return a(e,[{key:"putStorage",value:function(){this.numderBoxStore++,this.store.innerHTML="Ящиков: "+this.numderBoxStore}},{key:"createStore",value:function(){for(var e=document.createElement("tr"),t=0;t<this.fieldSize-1;t++){var r=document.createElement("td");t===this.fieldSize-3?(r.innerHTML="Ящиков: "+this.numderBoxStore,r.style.border="1px solid grey",r.setAttribute("colspan",2),this.store=r):t===this.fieldSize-2&&(r.innerHTML="Склад",r.style.border="1px solid grey",r.id=""+this.fieldSize+(this.fieldSize-1)),e.appendChild(r)}return e}}]),e}();t.default=i},function(e,t){}]);